% ----------------------------------------------------------------------
\begin{frame}[c]{Motivation}
  \begin{itemize}
  \item<1-> \structure{Question} \
    Is there a propositional formula $F(P)$ such that\\ the models of~$F(P)$ correspond to the
    stable models of $P$~?
    \bigskip
  \item<2-> \structure{Observation} \
    Starting from the completion of a program,\\
    the problem boils down to eliminating the circular support of atoms
    holding in the supported models of the program
    \medskip
  \item<3-> \structure{Lin \& Zhao's Idea} \\
    Add formulas prohibiting circular support of sets of atoms
    \medskip
    \begin{itemize}\normalsize
    \item<4->[\itarrow]
      Circular support between atoms $a$ and $b$ is possible,\\
      if $a$ has a path to $b$ and $b$ has a path to $a$\\
      in the program's positive atom dependency graph
    \end{itemize}
  \end{itemize}
\end{frame}
% ----------------------------------------------------------------------
\begin{frame}{Loops}
  \bigskip
  Let $G(P) = (\atom{P},E)$ be the positive atom dependency graph\\ of normal logic program $P$
  \par
  \smallskip
  \begin{itemize}
  \item<2-> A set $\emptyset\subset L \subseteq \atom{P}$ is a \alert{loop} of $P$,
    if it induces\\ a non-trivial strongly connected subgraph of $G(P)$
    \begin{itemize}\normalsize
    \item<3->[\itarrow] each pair of atoms in $L$ is connected by a path\\
      of non-zero length in $(L,E\cap(L \times L))$
    \end{itemize}
    \medskip
  \item<4-> We denote the set of all loops of $P$ by $\Loops{P}$
    \medskip
  \item<5-> \structure{Note} \ A program $P$ is tight iff $\Loops{P}=\emptyset$
  \end{itemize}
\end{frame}
% ----------------------------------------------------------------
\begin{frame}[c]{Example}
  \bigskip
  \begin{itemize}
  \item<1->
    \(
    P
    =
    \left\{
      \begin{array}{lll}
        a \leftarrow                \quad &
        c \leftarrow a, \neg d      \quad &
        e \leftarrow b, \neg f
        \\
        b \leftarrow \neg a         \quad &
        d \leftarrow \neg c, \neg e \quad &
        e \leftarrow e
      \end{array}
    \right\}
    \)
    \bigskip
  \item<1-> []
    \begin{center}
      \input{figures/fig_pos_dep_graph_for}
    \end{center}
  \item<2-> $\Loops{P}=\{\{e\}\}$
  \end{itemize}
\end{frame}
% ----------------------------------------------------------------------
\begin{frame}[c]{Another example}
  \bigskip
  \begin{itemize}
  \item<1->
    \(
    P
    =
    \left\{
      \begin{array}{llll}
        a \leftarrow \neg b
      & c \leftarrow a,b
      & d \leftarrow a
      & e \leftarrow\neg a,\neg b
      \\
        b \leftarrow \neg a
      & c \leftarrow d
      & d \leftarrow b,c
      &
      \end{array}
    \right\}
    \)
    \bigskip
  \item<1-> []
    \begin{center}
      \input{figures/fig_pos_dep_graph_fiv}
    \end{center}
  \item<2-> $\Loops{P}=\{\{c,d\}\}$
  \end{itemize}
\end{frame}
% ----------------------------------------------------------------------
\begin{frame}[c]{Yet another example}
  \bigskip
  \begin{itemize}
  \item<1->
    \(
    P
    =
    \left\{
      \begin{array}{llll}
        a\leftarrow \neg b
      & c\leftarrow a
      & d\leftarrow b,c
      & e\leftarrow b,\neg a
      \\
        b\leftarrow \neg a
      & c\leftarrow b,d
      & d\leftarrow e
      & e\leftarrow c,d
      \end{array}
    \right\}
    \)
    \bigskip
  \item<2-> []
    \begin{center}
      \input{figures/fig_pos_dep_graph_nin}
    \end{center}
  \item<3-> $\Loops{P}=\{\{c,d\},\{d,e\},\{c,d,e\}\}$
  \end{itemize}
\end{frame}
% ----------------------------------------------------------------------
\begin{frame}{Loop formulas}

  Let $P$ be a normal logic program

  \begin{itemize}
  \item <1->
    For $L\subseteq\atom{P}$,
    define the \alert<1-2>{external supports} of $L$ for $P$ as
    \[
    \ES{L}{P}
    =
    \{  r\in P\mid\head{r}\in L\text{ and } \pbody{r}\cap L=\emptyset  \}
    \]
  \item<4-> Define the \alert{external bodies} of $L$ in $P$ as
    \(
    \EB{L}{P}=\body{\ES{L}{P}}
    \)
  \item<2->
    The \alert{loop formula} of $L$ for $P$ is
    \begin{align*}
      \LFS{L}{P}
      & =
      \big(
      \textstyle{\bigvee_{a\in L}} a
      \big)
      \rightarrow
      \big(
      \textstyle{\bigvee_{\alt<5->{B\in\EB{L}{P}}{r\in\ES{L}{P}}}}\BF{\alt<5->{B}{\body{r}}}
      \big)
      \\\uncover<3->{
      & \equiv
      \big(
      \textstyle{\bigwedge_{\alt<5->{B\in\EB{L}{P}}{r\in\ES{L}{P}}}}\neg \BF{\alt<5->{B}{\body{r}}}
      \big)
      \rightarrow
      \big(
      \textstyle{\bigwedge_{a\in L}}\neg a
      \big)}
    \end{align*}
  \item<6-> \structure{Note} \
    The loop formula of $L$ enforces
    all atoms in~$L$ to be $\mathit{false}$
    whenever $L$ is not externally supported
  \item<6->
    Define \
    \(
    \LF{P} = \{  \LFS{L}{P} \mid L \in \Loops{P}  \}
    \)
  \end{itemize}
\end{frame}
% ----------------------------------------------------------------------
\begin{frame}[c]{Example}
  \bigskip
  \begin{itemize}
  \item<1->
    \(
    P
    =
    \left\{
      \begin{array}{lll}
        a \leftarrow                  \quad &
        c \leftarrow a, \neg d       \quad &
        e \leftarrow b, \neg f
        \\
        b \leftarrow \neg a         \quad &
        d \leftarrow \neg c, \neg e \quad &
        e \leftarrow e
      \end{array}
    \right\}
    \)
    \bigskip
  \item<1-> []
    \begin{center}
      \input{figures/fig_pos_dep_graph_for}
    \end{center}
  \item<1-> $\Loops{P}=\{\{e\}\}$
  \item<2-> $\LF{P}=\{e\rightarrow b\wedge\neg f\}$
  \end{itemize}
\end{frame}
% ----------------------------------------------------------------------
\begin{frame}[c]{Another example}
  \bigskip
  \begin{itemize}
  \item<1->
    \(
    P
    =
    \left\{
      \begin{array}{llll}
        a \leftarrow \neg b
      & c \leftarrow a,b
      & d \leftarrow a
      & e \leftarrow\neg a,\neg b
      \\
        b \leftarrow \neg a
      & c \leftarrow d
      & d \leftarrow b,c
      &
      \end{array}
    \right\}
    \)
    \bigskip
  \item<1-> []
    \begin{center}
      \input{figures/fig_pos_dep_graph_fiv}
    \end{center}
  \item<1-> $\Loops{P}=\{\{c,d\}\}$
  \item<2-> $\LF{P}=\{c\vee d\rightarrow (a\wedge b)\vee a\}$
  \end{itemize}
\end{frame}
% ----------------------------------------------------------------------
\begin{frame}[c]{Yet another example}
  \bigskip
  \begin{itemize}
  \item<1->
    \(
    P
    =
    \left\{
      \begin{array}{llll}
        a\leftarrow \neg b
      & c\leftarrow a
      & d\leftarrow b,c
      & e\leftarrow b,\neg a
      \\
        b\leftarrow \neg a
      & c\leftarrow b,d
      & d\leftarrow e
      & e\leftarrow c,d
      \end{array}
    \right\}
    \)
    \bigskip
  \item<1-> []
    \begin{center}
      \input{figures/fig_pos_dep_graph_nin}
    \end{center}
  \item<1-> $\Loops{P}=\{\alert<3>{\{c,d\}},\alert<4>{\{d,e\}},\alert<5>{\{c,d,e\}}\}$
    \smallskip
  \item<2->
    \(
    \LF{P}
    =
    \left\{
      \begin{array}[c]{l}
        \alert<3>{c\vee d\rightarrow a\vee e}\\
        \alert<4>{d\vee e\rightarrow (b\wedge c)\vee (b\wedge\neg a)}\\
        \alert<5>{c\vee d\vee e\rightarrow a \vee (b\wedge\neg a)}
      \end{array}
    \right\}
    \)
  \end{itemize}
\end{frame}
% ----------------------------------------------------------------------
\begin{frame}{Logic programs}
  \bigskip
  \begin{center}
    \begin{minipage}[t]{0.8\linewidth}
      \begin{block}{Lin-Zhao Theorem}
        Let $P$ be a normal logic program and $X\subseteq\atom{P}$
        \par\medskip
        Then, $X$ is a stable model of~$P$ iff $X\models\CF{P}\cup\LF{P}$
      \end{block}
    \end{minipage}
  \end{center}
\end{frame}
% ----------------------------------------------------------------------
\begin{frame}{Properties}
  \bigskip
  Let $X$ be a supported model of normal logic program $P$
  \medskip
  \begin{itemize}
  \item<2-> $X$ is a stable model of $P$ iff
    \smallskip
    \begin{itemize}\normalsize
    \item $X\models\{  \LFS{L}{P} \mid L\subseteq\atom{P}  \}$
    \item $X\models\{  \LFS{L}{P} \mid L\subseteq X  \}$
    \item $X\models\{  \LFS{L}{P} \mid L\in\Loops{P}  \}$, that is, $X\models\LF{P}$
    \item $X\models\{  \LFS{L}{P} \mid L\in\Loops{P}\text{ and } L\subseteq X  \}$
    \end{itemize}
    \medskip
  \item<3-> If $X$ is not a stable model of $P$, then\\
    there is a loop $L \subseteq X \setminus \Cn{\reduct{P}{X}}$ such that $X \not\models \LFS{L}{P}$
  \end{itemize}
\end{frame}
% ----------------------------------------------------------------------
\begin{frame}{Properties}
  \bigskip
  \begin{itemize}
  \item<1-> Every vocabulary-preserving translation from normal logic programs to
    propositional formulas%
    \footnote{Such that the stable models of the program coincide with the models of the formula}
    is exponential (in the worst case)
    \medskip
  \item<2->\structure{Observation} \
    \begin{itemize}\normalsize
    \item Translation $\CF{P}\cup\LF{P}$ preserves the vocabulary of $P$
      \smallskip
    \item The number of loops in $\Loops{P}$ may be exponential in $|\atom{P}|$
    \end{itemize}
  \end{itemize}
\end{frame}
% ----------------------------------------------------------------------
%
%%% Local Variables:
%%% mode: latex
%%% TeX-master: "../../main"
%%% End:
